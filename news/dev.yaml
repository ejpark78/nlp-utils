image: registry.nlp-utils/crawler:dev
gitImage: registry.nlp-utils/alpine/git:v2.30.0

imagePullSecrets: registry

restartPolicy: Never

resources:
  requests:
    cpu: 100m
    memory: 100Mi
  limits:
    cpu: 100m
    memory: 100Mi

hostAliases:
  - ip: "172.20.93.112"
    hostnames:
      - "corpus.ncsoft.com"
  - ip: "172.20.92.245"
    hostnames:
      - "galadriel02.korea.ncsoft.corp"

configMap:
  gitSync:
    name: config-sync
    repo: "http://galadriel02.korea.ncsoft.corp/crawler/config.git"
    branch: "dev"
  elasticsearch:
    authName: es-auth
    host: "https://corpus.ncsoft.com:9200"
  envFrom: korea-news

schedule:
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 1

args:
  - "python3"
  - "-m"
  - "crawler.web_news.web_news"
  - "--sleep"
  - "5"

jobs:
#  - name: dailian
#    schedule: "7,34 * * * *"
#    index: "raw-dailian-{year}"
#    args:
#      - "--config"
#      - "/config/news/dailian.yaml"
#      - "--date-range"
#      - "today"
#      - "--page-range"
#      - "0~5000"
#      - "--page-step"
#      - "100"
#
#  - name: kjdaily
#    schedule: "7,34 * * * *"
#    index: "raw-kjdaily-{year}"
#    args:
#      - "--config"
#      - "/config/news/kjdaily.yaml"
#      - "--date-range"
#      - "today"
#      - "--page-range"
#      - "0~5000"

#  - name: ansa
#    schedule: "7,34 * * * *"
#    index: "raw-ansa-{year}"
#    args:
#      - "--config"
#      - "/config/world_news/ansa.yaml"
#      - "--date-range"
#      - "today"
