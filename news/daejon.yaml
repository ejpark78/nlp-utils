---
jobs:
- index: raw-daejon-{year}
  tag: 대전일보
  article:
    document_id:
      type: query
      frame: '{pk_no}'
  list:
  - category: 정치
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=03_000
  - category: 경제/과학
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=06_000
  - category: 사회
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=05_000
  - category: 문화
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=14_000
  - category: 포토뉴스
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=41_000
  - category: 라이프
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=12_000
  - category: 지역
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=02_000
  - category: 사람들
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=11_000
  - category: 기획
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=33_000
  - category: 스포츠
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=07_000
  - category: 연예
    url_frame: http://www.daejonilbo.com/r_newslist.asp?page={page}&gubun=37_000&
parsing:
  descriptions:
    article: 기사 본문에서 추출해야하는 tag 정보
    list: 기사 목록에서 추출해야하는 하나의 기사 정보
    trace: 전체 html 에서 추출해야하는 전체 tag 목록
  parser: html5lib
  trace:
  - select: div#sub_main_news1 li
  list:
  - comment: url
    key: url
    value:
    - select: a 
    type: href
  - comment: 크롤링 시간
    key: '@curl_date'
    value:
    - const: DATE_NOW
    type: text
    type_convert: date
  article:
  - comment: html
    key: html
    value:
    - name: html
    remove:
    - name: script
    - name: style
    - name: comment
    type: html
  - comment: 제목
    key: title
    value:
    - select: div#newsitem_head h1
    type: text
  - comment: 부제
    key: sub_title
    value:
    - select: div#newsitem_head h2
    type: text
    value_type: single
  - comment: 날짜
    key: date
    value:
    - select: div#newsitem_head h5
    replace:
    - from: "^.+편집 "
      to: ''
    - from: "\\t.+"
      to: ''
    type: text
    type_convert: date
    value_type: single
  - comment: 텍스트 본문
    key: content
    value:
    - select: div#article
    type: text
    value_type: merge
  - comment: 크롤링 시간
    key: '@curl_date'
    value:
    - const: DATE_NOW
    type: text
    type_convert: date
