---
jobs:
  - index: raw-wowtv-{year}
    article:
      document_id:
        frame: '{articleId}'
        type: query
    args:
      page_range: "1~2000"
      page_step: "20"
    list:
      - category: latest
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=latest&menuSeq=459&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: stock
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=stock&menuSeq=460&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: economy
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=economy&menuSeq=529&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: bitcoin
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=virtualcurrency&menuSeq=21138&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: it
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=init&menuSeq=902&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: international
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=politics&menuSeq=587&searchComp=WO&currentIndex={page}&StartDate={date}
      - category: job
        date_format: '%Y-%m-%d'
        url_frame: https://www.wowtv.co.kr/NewsCenter/News/NewsList?subMenu=job&menuSeq=589&searchComp=WO&currentIndex={page}&StartDate={date}

# crawling 과정에서 추출하는 정보
parsing:
  version: v2021-03-17
  parser: html5lib

  # 전체 html 에서 추출해야하는 전체 tag 목록
  trace:
    - select: div.contain-list-news div.article-news-list

  # 기사 목록에서 추출해야하는 하나의 기사 정보
  list:
    - key: date
      value:
        - select: p.title-text span.date
      type: text
      type_convert: date
      value_type: single
    - key: title
      value:
        - select: p.title-text
      type: text
      remove:
        - select: span.date
    - key: url
      value:
        - select: div.contian-news a
      type: href
    - key: sub_category
      value:
        - select: div.footer-text p.category-text
      type: text
    - key: '@curl_date'
      value:
        - const: DATE_NOW
      type: text
      type_convert: date

  # 기사 본문에서 추출해야하는 tag 정보
  article:
    - key: raw
      value:
        - name: html
      remove:
        - name: script
        - name: style
        - name: comment
      type: html
    - key: title
      value:
        - select: div.title-area h1.title-news
      type: text
    - key: date
      value:
        - select: p.news-aside span.text-number
      type: text
      type_convert: date
      value_type: single
    - key: content
      value:
        - select: div[itemprop=articleBody]
      type: text
      value_type: merge
    - key: '@curl_date'
      value:
        - const: DATE_NOW
      type: text
      type_convert: date
