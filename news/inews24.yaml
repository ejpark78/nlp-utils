---
jobs:
  - index: raw-inews24-{year}
    article:
      document_id:
        replace:
          - from: /view/
            to: '/'
          - from: ^/
            to: ''
          - from: /
            to: '-'
        type: path
    list:
      - category: IT과학
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/it?date={date}&page={page}
      - category: 산업
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/industry?date={date}&page={page}
      - category: 경제
        date_format: '%Y%m'
        url_frame: http:/inews24.com/list/economy?date={date}&page={page}
      - category: 정치
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/politics?date={date}&page={page}
      - category: 사회
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/social?date={date}&page={page}
      - category: 문화생활
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/culturelife?date={date}&page={page}
      - category: 전국
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/local?date={date}&page={page}
      - category: 글로벌
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/world?date={date}&page={page}
      - category: 연예스포츠
        date_format: '%Y%m'
        url_frame: http://inews24.com/list/entersport?date={date}&page={page}

# crawling 과정에서 추출하는 정보
parsing:
  version: v2021-03-17
  parser: html5lib

  # 전체 html 에서 추출해야하는 전체 tag 목록
  trace:
    - select: article.list ol li

  # 기사 목록에서 추출해야하는 하나의 기사 정보
  list:
    - key: title
      value:
        - select: div a
      type: text
    - key: url
      value:
        - select: div a
      type: href
    - key: '@curl_date'
      value:
        - const: DATE_NOW
      type: text
      type_convert: date

  # 기사 본문에서 추출해야하는 tag 정보
  article:
    - key: raw
      value:
        - name: html
      remove:
        - name: script
        - name: style
        - name: comment
      type: html
    - key: title
      value:
        - select: 'header.view h1'
      type: text
      value_type: single
    - key: date
      value:
        - select: 'header.view nav.view span time'
      type: text
      type_convert: date
      value_type: single
      replace:
        - from: '^.+입력  '
          to: ''
    - key: content
      value:
        - select: 'main.view article.view'
      type: text
      value_type: merge
    - key: '@curl_date'
      value:
        - const: DATE_NOW
      type: text
      type_convert: date
