image: registry.nlp-utils/crawler:live
gitImage: registry.nlp-utils/alpine/git:v2.30.0

imagePullSecrets: registry

restartPolicy: Never

resources:
  requests:
    cpu: 100m
    memory: 100Mi
  limits:
    cpu: 100m
    memory: 100Mi

hostAliases:
  - ip: "172.20.93.112"
    hostnames:
      - "corpus.ncsoft.com"
  - ip: "172.20.92.245"
    hostnames:
      - "galadriel02.korea.ncsoft.corp"

configMap:
  name: es
  data:
    ELASTIC_SEARCH_HOST: "https://corpus.ncsoft.com:9200"

secret:
  name: auth

schedule:
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 1
  successfulJobsHistoryLimit: 0

args:
  - "python3"
  - "-m"
  - "crawler.naver.reply"
  - "--sleep"
  - "10"

jobs:
  - name: politics
    schedule: "0 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/politics-reply.yaml"

  - name: society
    schedule: "5 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/society-reply.yaml"

  - name: tv
    schedule: "10 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/tv-reply.yaml"

  - name: economy
    schedule: "15 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/economy-reply.yaml"

  - name: international
    schedule: "20 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/international-reply.yaml"

  - name: it
    schedule: "25 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/it-reply.yaml"

  - name: living
    schedule: "30 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/living-reply.yaml"

  - name: opinion
    schedule: "35 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/opinion-reply.yaml"

  - name: sports
    schedule: "40 * * * *"
    args:
      - "--config"
      - "/config/naver-news-reply/sports-reply.yaml"

