image: registry.nlp-utils/crawler:dev

imagePullSecrets: registry

restartPolicy: Never

resources:
  requests:
    cpu: 200m
    memory: 150Mi
  limits:
    cpu: 200m
    memory: 150Mi

hostAliases:
  - ip: "172.20.93.112"
    hostnames:
      - "corpus.ncsoft.com"

environmentVariables:
  - name: ELASTIC_SEARCH_AUTH
    valueFrom:
      secretKeyRef:
        name: elasticsearch-auth
        key: http_auth

jobs:
  - name: nate-economy
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_ECONOMY)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/economy.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "경제/생활 경제"
      - "경제/부동산"
      - "경제/금융/증권"
      - "경제/산업/기업"
      - "경제/취업/창업"
      - "경제/국제경제"
      - "경제/경제 일반"

  - name: nate-entertainment
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_ENTERTAINMENT)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/entertainment.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "연예/영화"
      - "연예/연예가 화제"
      - "연예/방송가요"
      - "연예/해외연예"

  - name: nate-international
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_INTERNATIONAL)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/international.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "세계/아시아호주"
      - "세계/미국중남미"
      - "세계/유럽"
      - "세계/중동아프리카"
      - "세계/해외화제"
      - "세계/일반"

  - name: nate-it
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_IT)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/it.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "IT/과학"
      - "IT/디지털"
      - "IT/컴퓨터/인터넷"
      - "IT/뉴미디어/통신"
      - "IT/게임"
      - "IT/IT/과학 일반"

  - name: nate-politics
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_POLITICS)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/politics.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "정치/청와대"
      - "정치/국회/정당"
      - "정치/외교/국방"
      - "정치/북한"
      - "정치/행정"
      - "정치/정치 일반"

  - name: nate-society
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_SOCIETY)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/society.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "사회/사건사고"
      - "사회/교육학교"
      - "사회/교통지역"
      - "사회/인권복지"
      - "사회/여성노동"
      - "사회/환경"
      - "사회/미디어"
      - "사회/종교"
      - "사회/인물"
      - "사회/일반"

  - name: nate-sports
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_SPORTS)
    configMapRef: nate
    args:
      - "python3"
      - "-m"
      - "crawler.web_news.web_news"
      - "--config"
      - "/config/nate/sports.yaml"
      - "--date-range"
      - "2021-01-01~2021-01-28"
      - "--sleep"
      - "10"
    subSategory:
      - "스포츠/야구"
      - "스포츠/해외야구"
      - "스포츠/축구"
      - "스포츠/해외축구"
      - "스포츠/농구-배구"
      - "스포츠/스포츠-일반"
