resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 200Mi

imagePullSecrets: registry

restartPolicy: Never

hostAliases:
  - ip: "172.20.93.112"
    hostnames:
      - "corpus.ncsoft.com"

image: registry.nlp-utils/crawler:latest

environmentVariables:
  - name: ELASTIC_SEARCH_AUTH
    valueFrom:
      secretKeyRef:
        name: elasticsearch-auth
        key: http_auth

jobs:
  - name: daum-culture-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_CULTURE)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "culture"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "문화/공연전시"
      - "문화/책"
      - "문화/뷰티패션"
      - "문화/음식맛집"
      - "문화/건강"
      - "문화/가정육아"
      - "문화/여행레저"
      - "문화/생활정보"
      - "문화/생활일반"
      - "문화/종교"
      - "문화/날씨"

  - name: daum-economy-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_ECONOMY)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "economy"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "경제/부동산"
      - "경제/생활경제"
      - "경제/금융"
      - "경제/기업산업"
      - "경제/취업직장인"
      - "경제/국제경제"
      - "경제/자동차"
      - "경제/경제일반"
      - "경제/주식"
      - "경제/시황분석"
      - "경제/해외증시"
      - "경제/채권선물"
      - "경제/외환"
      - "경제/주식일반"

  - name: daum-international-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_INTERNATIONAL)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "international"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "국제/일본"
      - "국제/중국"
      - "국제/아시아/대양주"
      - "국제/미주/아메리카"
      - "국제/유럽"
      - "국제/중동/아프리카"
      - "국제/영어뉴스"
      - "국제/해외화제"
      - "국제/국제일반"

  - name: daum-it-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_IT)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "it"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "IT/IT기기"
      - "IT/통신모바일"
      - "IT/소프트웨어"
      - "IT/인터넷"
      - "IT/게임"
      - "IT/IT일반"

  - name: daum-opinion-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_OPINION)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "opinion"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "칼럼-칼럼"
      - "칼럼-사설"
      - "칼럼-여론"
      - "칼럼-만평"
      - "칼럼"

  - name: daum-politics-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_POLITICS)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "politics"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "정치/행정지자체"
      - "정치/국회정당"
      - "정치/외교국방"
      - "정치/북한"
      - "정치/정치일반"
      - "정치/청와대"

  - name: daum-society-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_SOCIETY)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "society"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "사회/사건사고"
      - "사회/충청"
      - "사회/교육"
      - "사회/환경"
      - "사회/강원"
      - "사회/경상"
      - "사회/제주"
      - "사회/전라"
      - "사회/노동"
      - "사회/미디어"
      - "사회/수도권"
      - "사회/전국"
      - "사회/지역일반"
      - "사회/사회일반"
      - "사회/인물"
      - "사회/서울"
      - "사회/복지"
      - "사회/여성"

  - name: daum-sports-2020
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_SPORTS)
    configMapRef: daum
    args:
      - "python3"
      - "batch.py"
      - "--skip_check_history"
      - "--category"
      - "daum"
      - "--job_id"
      - "sports"
      - "--date_range"
      - "2020-01-01~2020-10-16"
      - "--sleep"
      - "10"
    subSategory:
      - "스포츠/야구"
      - "스포츠/해외야구"
      - "스포츠/게임"
      - "스포츠/축구"
      - "스포츠/해외축구"
      - "스포츠/골프"
      - "스포츠/농구&배구"
      - "스포츠/일반"
