---
dag:
  dag_id: 'nate'
  description: 'nate crawler'
  schedule_interval: '7,36 * * * *'
  concurrency: 64
  max_active_runs: 64
  tags:
    - 네이트 뉴스
    - portal
default_args:
  owner: 'Airflow'
  retries: 3
  depends_on_past: False
  email:
    - ejpark@ncsoft.com
  email_on_retry: False
  email_on_failure: False
operator:
  params:
    labels:
      crawler: nate
    namespace: 'airflow'
    image: 'registry.nlp-utils/crawler:live'
    image_pull_policy: 'Always'
    image_pull_secrets: 'registry'
    is_delete_operator_pod: 'True'
    get_logs: 'True'
    cmds:
      - 'python3'
    env_vars:
      ELASTIC_SEARCH_HOST: 'https://corpus.ncsoft.com:9200'
      ELASTIC_SEARCH_AUTH: 'crawler:crawler2019'
  args:
    - -m
    - crawler.web_news.web_news
    - --sleep
    - '10'
    - --date-range
    - today
tasks:
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/과학
    task_id: it-science
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/디지털
    task_id: it-digital
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/컴퓨터/인터넷
    task_id: it-computer
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/뉴미디어/통신
    task_id: it-new-media
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/게임
    task_id: it-game
  - category: it
    config: /config/nate-news/it.yaml
    name: IT/IT/과학 일반
    task_id: it-etc
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/생활 경제
    task_id: economy-economy
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/부동산
    task_id: economy-estate
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/금융/증권
    task_id: economy-finance
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/산업/기업
    task_id: economy-company
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/취업/창업
    task_id: economy-startup
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/국제경제
    task_id: economy-world
  - category: economy
    config: /config/nate-news/economy.yaml
    name: 경제/경제 일반
    task_id: economy-etc
  - category: radio
    config: /config/nate-news/radio.yaml
    name: 라디오/김성준의 시사전망대
    task_id: radio-sung
  - category: radio
    config: /config/nate-news/radio.yaml
    name: 라디오/김현정의 뉴스 쇼
    task_id: radio-hyun
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/사건사고
    task_id: society-incident
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/교육학교
    task_id: society-education
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/교통지역
    task_id: society-local
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/인권복지
    task_id: society-human-right
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/여성노동
    task_id: society-labor
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/환경
    task_id: society-environment
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/미디어
    task_id: society-media
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/종교
    task_id: society-religion
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/인물
    task_id: society-person
  - category: society
    config: /config/nate-news/society.yaml
    name: 사회/일반
    task_id: society-etc
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/청와대
    task_id: politics-blue-house
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/국회/정당
    task_id: politics-national-assembly
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/외교/국방
    task_id: politics-defence
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/북한
    task_id: politics-north-korea
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/행정
    task_id: politics-administration
  - category: politics
    config: /config/nate-news/politics.yaml
    name: 정치/정치 일반
    task_id: politics-etc
  - category: entertainment
    config: /config/nate-news/entertainment.yaml
    name: 연예/영화
    task_id: entertainment-movie
  - category: entertainment
    config: /config/nate-news/entertainment.yaml
    name: 연예/연예가 화제
    task_id: entertainment-issue
  - category: entertainment
    config: /config/nate-news/entertainment.yaml
    name: 연예/방송가요
    task_id: entertainment-song
  - category: entertainment
    config: /config/nate-news/entertainment.yaml
    name: 연예/해외연예
    task_id: entertainment-world
  - category: opinion
    config: /config/nate-news/opinion.yaml
    name: 사설/사설
    task_id: opinion-editorial
  - category: opinion
    config: /config/nate-news/opinion.yaml
    name: 사설/칼럼
    task_id: opinion-column
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/SBS
    task_id: tv-sbs
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/JTBC
    task_id: tv-jtbc
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/YTN
    task_id: tv-ytn
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/MBN
    task_id: tv-mbn
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/연합뉴스TV
    task_id: tv-yna
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/OBS TV
    task_id: tv-obs
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/SBSCNBC
    task_id: tv-sbscnbc
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/한국경제TV
    task_id: tv-hankook
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/KTV국민방송
    task_id: tv-ktv
  - category: tv
    config: /config/nate-news/tv.yaml
    name: TV/실시간 중계
    task_id: tv-realtime
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/야구
    task_id: sports-baseball
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/해외야구
    task_id: sports-wbaseball
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/축구
    task_id: sports-football
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/해외축구
    task_id: sports-wfootball
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/농구-배구
    task_id: sports-basketball
  - category: sports
    config: /config/nate-news/sports.yaml
    name: 스포츠/스포츠-일반
    task_id: sports-etc
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/아시아호주
    task_id: international-asia
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/미국중남미
    task_id: international-usa
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/유럽
    task_id: international-europe
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/중동아프리카
    task_id: international-mideast
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/해외화제
    task_id: international-world-issue
  - category: international
    config: /config/nate-news/international.yaml
    name: 세계/일반
    task_id: international-etc
