---
dag:
  dag_id: 'jjan'
  description: 'jjan crawler'
  schedule_interval: '0,30 * * * *'
  max_active_runs: 1
  tags:
    - 국내 뉴스
    - jjan
default_args:
  owner: 'Airflow'
  retries: 3
  depends_on_past: False
  email:
    - ejpark@ncsoft.com
  email_on_retry: False
  email_on_failure: False
operator:
  params:
    labels:
      crawler: korea-news
    namespace: 'airflow'
    image: 'registry.nlp-utils/crawler:live'
    image_pull_policy: 'Always'
    image_pull_secrets: 'registry'
    is_delete_operator_pod: 'True'
    get_logs: 'True'
    cmds:
      - 'python3'
    env_vars:
      ELASTIC_SEARCH_HOST: 'https://corpus.ncsoft.com:9200'
      ELASTIC_SEARCH_AUTH: 'crawler:crawler2019'
  args:
    - -m
    - crawler.web_news.web_news
    - --sleep
    - '5'
    - --date-range
    - today
    - --mapping
    - /config/news/mapping.yaml
tasks:
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/정치일반
    task_id: jjan-etc-c
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/정부ㆍ청와대
    task_id: jjan-blue-house-a
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/국회ㆍ정당
    task_id: jjan-national-assembly
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/자치ㆍ의회
    task_id: jjan-politics-a
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/북한
    task_id: jjan-north-korea
  - category: politics
    config: /config/news/jjan.yaml
    name: 정치/국제
    task_id: jjan-politics-b
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/경제일반
    task_id: jjan-economy-a
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/금융ㆍ증권
    task_id: jjan-finance
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/건설ㆍ부동산
    task_id: jjan-estate
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/산업ㆍ기업
    task_id: jjan-economy-b
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/서비스ㆍ쇼핑
    task_id: jjan-economy-c
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/ITㆍ과학
    task_id: jjan-science
  - category: economy
    config: /config/news/jjan.yaml
    name: 경제/노동ㆍ노사
    task_id: jjan-labor
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/사회일반
    task_id: jjan-etc-a
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/경찰
    task_id: jjan-society-a
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/사건ㆍ사고
    task_id: jjan-society-b
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/보건ㆍ의료
    task_id: jjan-society-c
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/법원ㆍ검찰
    task_id: jjan-society-d
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/환경
    task_id: jjan-environment-a
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/날씨
    task_id: jjan-forecast
  - category: society
    config: /config/news/jjan.yaml
    name: 사회/경찰
    task_id: jjan-society-e
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/문화일반
    task_id: jjan-culture-a
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/문학ㆍ출판
    task_id: jjan-culture-b
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/전시ㆍ공연
    task_id: jjan-culture-c
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/영화ㆍ연극
    task_id: jjan-movie
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/문화재ㆍ학술
    task_id: jjan-culture-d
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/종교
    task_id: jjan-religion
  - category: culture
    config: /config/news/jjan.yaml
    name: 문화/방송ㆍ연예
    task_id: jjan-culture-e
  - category: education
    config: /config/news/jjan.yaml
    name: 교육/교육일반
    task_id: jjan-education-a
  - category: education
    config: /config/news/jjan.yaml
    name: 교육/초중고
    task_id: jjan-education-b
  - category: education
    config: /config/news/jjan.yaml
    name: 교육/대학
    task_id: jjan-education-c
  - category: education
    config: /config/news/jjan.yaml
    name: 교육/NIE(신문활용 교육)
    task_id: jjan-education-d
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/스포츠일반
    task_id: jjan-etc-e
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/야구
    task_id: jjan-baseball
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/축구
    task_id: jjan-football
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/골프
    task_id: jjan-golf
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/농구
    task_id: jjan-basketball
  - category: sports
    config: /config/news/jjan.yaml
    name: 스포츠/태권도
    task_id: jjan-sports
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/군산
    task_id: jjan-local-a
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/익산
    task_id: jjan-local-b
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/정읍
    task_id: jjan-local-c
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/남원
    task_id: jjan-local-d
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/김제
    task_id: jjan-local-e
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/완주
    task_id: jjan-local-f
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/진안
    task_id: jjan-local-g
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/무주
    task_id: jjan-local-h
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/장수
    task_id: jjan-local-j
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/임실
    task_id: jjan-local-i
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/순창
    task_id: jjan-local-k
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/고창
    task_id: jjan-local-l
  - category: local
    config: /config/news/jjan.yaml
    name: 지역/부안
    task_id: jjan-local-m
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/결혼
    task_id: jjan-people-a
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/부음
    task_id: jjan-people-b
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/알림
    task_id: jjan-people-c
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/개업
    task_id: jjan-people-d
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/인사
    task_id: jjan-people-e
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/전북일보 알림
    task_id: jjan-people-f
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/일과 사람
    task_id: jjan-people-g
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/본사손님
    task_id: jjan-people-h
  - category: people
    config: /config/news/jjan.yaml
    name: 사람들/이전
    task_id: jjan-people-i
