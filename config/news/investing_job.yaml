---
reference:
dag:
  dag_id: 'investing'
  description: 'investing 크롤러'
  schedule_interval: '0 * * * *'
  tags: ["investing"]
task_template: &config_path
  config: /adena_crawler/config/news/investing.yaml
default_args:
  owner: 'Airflow'
  retries: 3
  depends_on_past: False
  email:
    - gunyoung20@ncsoft.com
  email_on_retry: False
  email_on_failure: False
operator:
  params:
    labels:
      crawler: news
    namespace: 'airflow'
    image: 'registry.nlp-utils/adena-crawler:master'
    image_pull_policy: 'Always'
    image_pull_secrets: 'registry'
    is_delete_operator_pod: 'True'
    get_logs: 'True'
    cmds:
      - 'sleep'
      - '1000'
    env_vars:
      ELASTIC_SEARCH_HOST: 'https://corpus.ncsoft.com:9200'
      ELASTIC_SEARCH_AUTH: 'crawler:crawler2019'
    resources:
      request_cpu: "200m"
      request_memory: "256Mi"
      limit_cpu: "200m"
      limit_memory: "256Mi"
tasks:
  - category: cryptocurrency
    <<: *config_path
    name: cryptocurrency
    task_id: investing-cryptocurrency