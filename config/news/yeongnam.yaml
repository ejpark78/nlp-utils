---
dag:
  dag_id: 'yeongnam'
  description: 'yeongnam crawler'
  schedule_interval: '0,30 * * * *'
  max_active_runs: 1
  tags:
    - news
    - korea
    - 영남일보
default_args:
  owner: 'Airflow'
  retries: 3
  depends_on_past: False
  email:
    - ejpark@ncsoft.com
  email_on_retry: False
  email_on_failure: False
operator:
  params:
    labels:
      crawler: korea-news
    namespace: 'airflow'
    image: 'registry.nlp-utils/crawler:live'
    image_pull_policy: 'Always'
    image_pull_secrets: 'registry'
    is_delete_operator_pod: 'True'
    get_logs: 'True'
    cmds:
      - 'python3'
    env_vars:
      ELASTIC_SEARCH_HOST: 'https://corpus.ncsoft.com:9200'
      ELASTIC_SEARCH_AUTH: 'crawler:crawler2019'
  args:
    - -m
    - crawler.web_news.web_news
    - --sleep
    - '5'
    - --date-range
    - today
    - --mapping
    - /config/news/mapping.yaml
tasks:
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/사회일반
    task_id: yeongnam-society-etc
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/사건사고
    task_id: yeongnam-incident
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/복지·노동
    task_id: yeongnam-labor
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/보건의료
    task_id: yeongnam-society-a
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/환경
    task_id: yeongnam-environment
  - category: society
    config: /config/news/yeongnam.yaml
    name: 사회/반려동물
    task_id: yeongnam-society-b
  - category: politics
    config: /config/news/yeongnam.yaml
    name: 정치/정치일반
    task_id: yeongnam-politics-etc
  - category: politics
    config: /config/news/yeongnam.yaml
    name: 정치/청와대·중앙행정
    task_id: yeongnam-blue-house
  - category: politics
    config: /config/news/yeongnam.yaml
    name: 정치/대구·경북 행정
    task_id: yeongnam-administration
  - category: politics
    config: /config/news/yeongnam.yaml
    name: 정치/대구·경북의회
    task_id: yeongnam-politics
  - category: politics
    config: /config/news/yeongnam.yaml
    name: 정치/국방·북한
    task_id: yeongnam-north-korea
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/경제일반
    task_id: yeongnam-economy-a
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/증시·금융
    task_id: yeongnam-finance
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/부동산
    task_id: yeongnam-estate
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/자동차
    task_id: yeongnam-economy-b
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/취업·창업
    task_id: yeongnam-economy-c
  - category: economy
    config: /config/news/yeongnam.yaml
    name: 경제/IT·모바일
    task_id: yeongnam-mobile
  - category: sports
    config: /config/news/yeongnam.yaml
    name: 스포츠/스포츠일반
    task_id: yeongnam-sports-etc
  - category: sports
    config: /config/news/yeongnam.yaml
    name: 스포츠/야구
    task_id: yeongnam-baseball
  - category: sports
    config: /config/news/yeongnam.yaml
    name: 스포츠/축구
    task_id: yeongnam-football
  - category: sports
    config: /config/news/yeongnam.yaml
    name: 스포츠/농구·배구·핸드볼
    task_id: yeongnam-basketball
  - category: sports
    config: /config/news/yeongnam.yaml
    name: 스포츠/골프
    task_id: yeongnam-golf
  - category: culture
    config: /config/news/yeongnam.yaml
    name: 문화/문화일반
    task_id: yeongnam-culture-a
  - category: culture
    config: /config/news/yeongnam.yaml
    name: 문화/공연·전시
    task_id: yeongnam-culture-b
  - category: culture
    config: /config/news/yeongnam.yaml
    name: 문화/책
    task_id: yeongnam-book
  - category: culture
    config: /config/news/yeongnam.yaml
    name: 문화/운세
    task_id: yeongnam-culture-c
  - category: culture
    config: /config/news/yeongnam.yaml
    name: 문화/기타
    task_id: yeongnam-culture-d
  - category: health
    config: /config/news/yeongnam.yaml
    name: 건강/건강일반
    task_id: yeongnam-health-etc
  - category: health
    config: /config/news/yeongnam.yaml
    name: 건강/병원소식
    task_id: yeongnam-health-a
  - category: health
    config: /config/news/yeongnam.yaml
    name: 건강/질환
    task_id: yeongnam-health-b
  - category: video
    config: /config/news/yeongnam.yaml
    name: 영상/영상뉴스
    task_id: yeongnam-video-a
  - category: video
    config: /config/news/yeongnam.yaml
    name: 영상/송국건의혼술
    task_id: yeongnam-video-b
  - category: video
    config: /config/news/yeongnam.yaml
    name: 영상/이지핏
    task_id: yeongnam-video-c
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/위클리포유일반
    task_id: yeongnam-weekly-etc
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/여행·레저
    task_id: yeongnam-travel
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/위클리영화
    task_id: yeongnam-movie
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/패션·뷰티
    task_id: yeongnam-weekly-a
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/푸드
    task_id: yeongnam-weekly-food
  - category: weekly
    config: /config/news/yeongnam.yaml
    name: 위클리포유/칼럼
    task_id: yeongnam-weekly-column
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 에듀포유/대학·입시
    task_id: yeongnam-edu-a
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 에듀포유/중·고등
    task_id: yeongnam-edu-b
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 에듀포유/초등·유아
    task_id: yeongnam-edu-c
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 에듀포유/대구경북교육청
    task_id: yeongnam-education
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 에듀포유/에듀포유일반
    task_id: yeongnam-edu-etc
  - category: edu
    config: /config/news/yeongnam.yaml
    name: 포토/포토뉴스
    task_id: yeongnam-edu-photo
  - category: local
    config: /config/news/yeongnam.yaml
    name: 지역뉴스/경북동부
    task_id: yeongnam-local-a
  - category: local
    config: /config/news/yeongnam.yaml
    name: 지역뉴스/경북중부
    task_id: yeongnam-local-b
  - category: local
    config: /config/news/yeongnam.yaml
    name: 지역뉴스/경북북부
    task_id: yeongnam-local-c
  - category: local
    config: /config/news/yeongnam.yaml
    name: 지역뉴스/대구근교
    task_id: yeongnam-local-d
  - category: local
    config: /config/news/yeongnam.yaml
    name: 지역뉴스/대구
    task_id: yeongnam-local-e
  - category: science
    config: /config/news/yeongnam.yaml
    name: 교육/과학/교육
    task_id: yeongnam-science-a
  - category: science
    config: /config/news/yeongnam.yaml
    name: 교육/과학/과학
    task_id: yeongnam-science-b
  - category: world
    config: /config/news/yeongnam.yaml
    name: 국제/국제일반
    task_id: yeongnam-world-etc
  - category: world
    config: /config/news/yeongnam.yaml
    name: 국제/미국
    task_id: yeongnam-world-usa
  - category: world
    config: /config/news/yeongnam.yaml
    name: 국제/일본
    task_id: yeongnam-world-jp
  - category: world
    config: /config/news/yeongnam.yaml
    name: 국제/중국
    task_id: yeongnam-world-cn
  - category: world
    config: /config/news/yeongnam.yaml
    name: 국제/유럽
    task_id: yeongnam-world-europe
  - category: living
    config: /config/news/yeongnam.yaml
    name: 동정/동정일반
    task_id: yeongnam-living-etc
  - category: living
    config: /config/news/yeongnam.yaml
    name: 동정/결혼
    task_id: yeongnam-living-a
  - category: living
    config: /config/news/yeongnam.yaml
    name: 동정/부고
    task_id: yeongnam-living-death
  - category: living
    config: /config/news/yeongnam.yaml
    name: 동정/알림
    task_id: yeongnam-living-alert
  - category: living
    config: /config/news/yeongnam.yaml
    name: 동정/인사
    task_id: yeongnam-living-greed
  - category: living
    config: /config/news/yeongnam.yaml
    name: 기획/특집/기획·특집
    task_id: yeongnam-living-special
  - category: column
    config: /config/news/yeongnam.yaml
    name: 연재/연재
    task_id: yeongnam-column-a
  - category: reports
    config: /config/news/yeongnam.yaml
    name: 시민기자/시민기자
    task_id: yeongnam-reports
  - category: entertainment
    config: /config/news/yeongnam.yaml
    name: 연예/연예일반
    task_id: yeongnam-entertainment-etc
  - category: entertainment
    config: /config/news/yeongnam.yaml
    name: 연예/방송
    task_id: yeongnam-entertainment-b
  - category: entertainment
    config: /config/news/yeongnam.yaml
    name: 연예/영화
    task_id: yeongnam-entertainment-movie
  - category: webtoon
    config: /config/news/yeongnam.yaml
    name: 웹툰/플레이툰
    task_id: yeongnam-webtoon-a
  - category: webtoon
    config: /config/news/yeongnam.yaml
    name: 웹툰/웹툰
    task_id: yeongnam-webtoon-b
