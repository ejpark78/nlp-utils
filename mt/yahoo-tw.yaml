#---
#apiVersion: batch/v1beta1
#kind: CronJob
#metadata:
#  name: yahoo-tw-list
#  labels:
#    app: crawler-yahoo-tw
#spec:
#  schedule: "0,30 * * * *"
#  concurrencyPolicy: Forbid
#  failedJobsHistoryLimit: 3
#  successfulJobsHistoryLimit: 0
#  jobTemplate:
#    spec:
#      template:
#        spec:
#          restartPolicy: OnFailure
#          hostAliases:
#            - ip: "172.20.93.112"
#              hostnames:
#                - "corpus.ncsoft.com"
#          imagePullSecrets:
#            - name: registry
#          containers:
#            - name: default
#              image: registry.nlp-utils/crawler:latest
#              imagePullPolicy: Always
#              env:
#                - name: ELASTIC_SEARCH_INDEX
#                  value: $(INDEX_SPORTS)
#                - name: ELASTIC_SEARCH_AUTH
#                  valueFrom:
#                    secretKeyRef:
#                      name: elasticsearch-auth
#                      key: http_auth
#              args: ["python3", "module/yahoo-tw.py", "--list"]
#
#---
#apiVersion: batch/v1beta1
#kind: CronJob
#metadata:
#  name: yahoo-tw-contents
#  labels:
#    app: crawler-yahoo-tw
#spec:
#  schedule: "10,40 * * * *"
#  concurrencyPolicy: Forbid
#  failedJobsHistoryLimit: 3
#  successfulJobsHistoryLimit: 0
#  jobTemplate:
#    spec:
#      template:
#        spec:
#          restartPolicy: OnFailure
#          hostAliases:
#            - ip: "172.20.93.112"
#              hostnames:
#                - "corpus.ncsoft.com"
#          imagePullSecrets:
#            - name: registry
#          containers:
#            - name: default
#              image: registry.nlp-utils/crawler:latest
#              imagePullPolicy: Always
#              env:
#                - name: ELASTIC_SEARCH_INDEX
#                  value: $(INDEX_SPORTS)
#                - name: ELASTIC_SEARCH_AUTH
#                  valueFrom:
#                    secretKeyRef:
#                      name: elasticsearch-auth
#                      key: http_auth
#              args: ["python3", "module/yahoo-tw.py", "--contents"]
