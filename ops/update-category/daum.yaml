---
apiVersion: v1
kind: Pod
metadata:
  name: daum-economy
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "economy",
          "--date_range", "2010-01-01~2018-11-15"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-international
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "international",
          "--date_range", "2010-01-01~2016-02-10"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-it
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "it",
          "--date_range", "2010-01-01~2010-01-04"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-culture
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "culture",
          "--date_range", "2010-01-01~2014-09-03"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-opinion
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "opinion",
          "--date_range", "2010-01-01~2010-01-04"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-politics
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "politics",
          "--date_range", "2010-01-01~2018-09-12"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-society
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--update_category_only",
          "--skip_post_process",
          "--category", "daum",
          "--job_id", "society",
          "--date_range", "2010-01-01~2016-01-27"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: daum-sports
  labels:
    app: daum-news
    job: update-category
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: daum
      args: [
          "python3", "batch.py",
          "--skip_post_process",
          "--update_category_only",
          "--category", "daum",
          "--job_id", "sports",
          "--date_range", "2010-01-01~2020-01-01"
      ]
