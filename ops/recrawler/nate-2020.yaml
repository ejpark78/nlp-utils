
---
apiVersion: v1
kind: Pod
metadata:
  name: nate-economy-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ECONOMY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "economy"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-entertainment-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_ENTERTAINMENT)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "entertainment"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-international-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_INTERNATIONAL)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "international"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-it-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_IT)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "it"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-politics-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_POLITICS)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "politics"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-society-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_SOCIETY)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "society"
      ]

---
apiVersion: v1
kind: Pod
metadata:
  name: nate-sports-2020
  labels:
    app: nate-news
spec:
  restartPolicy: Never
  hostAliases:
    - ip: "172.20.93.112"
      hostnames:
        - "corpus.ncsoft.com"
  imagePullSecrets:
    - name: registry
  containers:
    - name: default
      image: registry.nlp-utils/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 1000Mi
      env:
        - name: ELASTIC_SEARCH_INDEX
          value: $(INDEX_SPORTS)
        - name: ELASTIC_SEARCH_AUTH
          valueFrom:
            secretKeyRef:
              name: elasticsearch-auth
              key: http_auth
      envFrom:
        - configMapRef:
            name: nate
      args: [
        "python3", "batch.py",
        "--date_range", "2020-01-01~2020-10-13",
        "--category", "nate",
        "--job_id", "sports"
      ]
