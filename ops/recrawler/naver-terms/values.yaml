resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 256Mi

imagePullSecrets: registry

restartPolicy: Never

hostAliases:
  - ip: "172.20.93.112"
    hostnames:
      - "corpus.ncsoft.com"

image: registry.nlp-utils/crawler:latest

environmentVariables:
  - name: ELASTIC_SEARCH_AUTH
    valueFrom:
      secretKeyRef:
        name: elasticsearch-auth
        key: http_auth

jobs:
  - name: naver-terms-list
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_ECONOMY)
    configMapRef: naver
    args:
      - "python3"
      - "batch.py"
      - "--category"
      - "naver"
      - "--job_id"
      - "term_list"

  - name: naver-terms-detail
    environmentVariables:
      - name: ELASTIC_SEARCH_INDEX
        value: $(INDEX_ECONOMY)
    configMapRef: naver
    args:
      - "python3"
      - "batch.py"
      - "--category"
      - "naver"
      - "--job_id"
      - "term_detail"
