---
apiVersion: v1
kind: Namespace
metadata:
  name: crawler-naver-kin

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: question-list
  namespace: crawler-naver-kin
  labels:
    app: crawler-naver-kin
spec:
  schedule: "0,30 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 20
  successfulJobsHistoryLimit: 20
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              workingDir: /usr/local/app
              args: ["python3", "batch.py", "--category", "naver", "--job_id", "kin_question_list"]

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: answer-list
  namespace: crawler-naver-kin
  labels:
    app: crawler-naver-kin
spec:
  schedule: "10,40 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 20
  successfulJobsHistoryLimit: 20
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              workingDir: /usr/local/app
              args: ["python3", "batch.py", "--category", "naver", "--job_id", "kin_answer_list"]

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: detail-question
  namespace: crawler-naver-kin
  labels:
    app: crawler-naver-kin
spec:
  schedule: "20,50 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 20
  successfulJobsHistoryLimit: 20
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              workingDir: /usr/local/app
              args: ["python3", "batch.py", "--category", "naver", "--job_id", "kin_detail_question"]

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: detail-answer
  namespace: crawler-naver-kin
    app: crawler-naver-kin
spec:
  schedule: "5,35 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 20
  successfulJobsHistoryLimit: 20
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              workingDir: /usr/local/app
              args: ["python3", "batch.py", "--category", "naver", "--job_id", "kin_detail_answer"]
