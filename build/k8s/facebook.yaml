
#---
#apiVersion: v1
#kind: Pod
#metadata:
#  name: amity-list
#  namespace: crawler-facebook
#  labels:
#    app: crawler
#spec:
#  restartPolicy: Always
#  containers:
#    - name: amity
#      image: corpus:5000/crawler:latest
#      workingDir: /usr/local/app
#      args: ["python3", "module/facebook.py", "--list", "--reply", "--config", "config/facebook/친목.json", "--max_page", "50"]

# ---
# apiVersion: v1
# kind: Pod
# metadata:
#   name: community-list
#   namespace: crawler-facebook
#   labels:
#     app: crawler-facebook-community-list
# spec:
#   restartPolicy: Always
#   containers:
#     - name: community
#       image: corpus:5000/crawler:latest
#       workingDir: /usr/local/app
#       args: ["python3", "module/facebook.py", "--list", "--reply", "--config", "config/facebook/커뮤니티.json", "--max_page", "50"]

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: media-list
  namespace: crawler-facebook
  labels:
    app: crawler-facebook
spec:
  schedule: "0,30 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 3
  successfulJobsHistoryLimit: 0
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          nodeSelector:
            group: "crawler"
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              imagePullPolicy: Always
              workingDir: /usr/local/app
              args: ["python3", "module/facebook.py", "--list", "--reply", "--config", "config/facebook/언론.json", "--max_page", "50"]

---
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: school-chat-list
  namespace: crawler-facebook
  labels:
    app: crawler-facebook
spec:
  schedule: "10,40 * * * *"
  concurrencyPolicy: Forbid
  failedJobsHistoryLimit: 3
  successfulJobsHistoryLimit: 0
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: OnFailure
          nodeSelector:
            group: "crawler"
          containers:
            - name: default
              image: corpus:5000/crawler:latest
              imagePullPolicy: Always
              workingDir: /usr/local/app
              args: ["python3", "module/facebook.py", "--list", "--reply", "--config", "config/facebook/대나무숲.json", "--max_page", "50"]
