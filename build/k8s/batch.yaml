---
apiVersion: v1
kind: Pod
metadata:
  name: lineage2m
  namespace: crawler-batch
  labels:
    app: crawler
spec:
  restartPolicy: Never
  nodeSelector:
    group: "crawler"
  containers:
    - name: default
      image: corpus:5000/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      workingDir: /usr/local/app
      args: ["python3", "batch.py", "--overwrite", "--category", "bbs", "--job_id", "lineage2m", "--page_range", "1~500", "--page_step", "1"]

---
apiVersion: v1
kind: Pod
metadata:
  name: lineagem
  namespace: crawler-batch
  labels:
    app: crawler
spec:
  restartPolicy: Never
  nodeSelector:
    group: "crawler"
  containers:
    - name: default
      image: corpus:5000/crawler:latest
      imagePullPolicy: Always
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
        limits:
          cpu: 200m
          memory: 200Mi
      workingDir: /usr/local/app
      args: ["python3", "batch.py", "--overwrite", "--category", "bbs", "--job_id", "lineagem", "--page_range", "1~9000000", "--page_step", "1"]
