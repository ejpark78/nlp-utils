version: '2'

services:

  naver_reply_2019_08:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2019-08-01~2019-08-05
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

  naver_reply_2018_05:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2018-05-01~2018-06-01
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

  naver_reply_2018_04:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2018-04-01~2018-05-01
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

  naver_reply_2018_03:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2018-03-01~2018-04-01
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

  naver_reply_2018_02:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2018-02-01~2018-03-01
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

  naver_reply_2018_01:
    image: corpus:5000/crawler:latest
    restart: "no"
    working_dir: /usr/local/app
    command: python3 batch.py -category naver -job_id sports-reply -date_range 2018-01-01~2018-02-01
    extra_hosts:
      - corpus.ncsoft.com:172.20.93.112

# docker-compose -p naver-reply -f naver-reply.yml up -d
# docker-compose -p naver-reply -f naver-reply.yml logs -f
# docker-compose -p naver-reply -f naver-reply.yml down

# python3 batch.py -category bbs -job_id mlbpark-bullpen
# make naver-kin-start naver-kin-logs

# python3 batch.py -category naver -job_id sports -date_range 2018-01-01~2019-07-01 -date_step=-1
